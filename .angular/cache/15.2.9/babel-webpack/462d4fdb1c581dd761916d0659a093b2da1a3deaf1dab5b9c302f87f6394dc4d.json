{"ast":null,"code":"import { User } from '../Model/user';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/users.service\";\nimport * as i2 from \"../services/local-storage\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../navbar/navbar.component\";\nimport * as i5 from \"../footer/footer.component\";\nexport let EditprofileComponent = /*#__PURE__*/(() => {\n  var _class;\n  class EditprofileComponent {\n    constructor(userServ, localStorage) {\n      this.userServ = userServ;\n      this.localStorage = localStorage;\n      this.user = new User();\n    }\n    ngOnInit() {\n      this.getUser();\n    }\n    getUser() {\n      this.userServ.getUserById(this.localStorage.getUserId()).subscribe({\n        next: data => {\n          console.log(data);\n          this.user = data;\n          this.cantpass = this.user.password;\n          this.user.password = '';\n        },\n        error: err => {\n          console.log(err);\n        },\n        complete: () => {}\n      });\n    }\n    modifierProfil() {\n      this.user.password = this.newPwd;\n      console.log(this.user);\n      this.userServ.modifierProfil(this.user).subscribe({\n        next: data => {\n          Swal.fire({\n            icon: 'success',\n            title: 'Success!',\n            text: 'Utilisateur modifié avec succès!'\n          });\n          console.log(data);\n        },\n        error: err => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            text: 'Cet email appartient à un autre utilisateur!'\n          });\n          console.log(err);\n        },\n        complete: () => {}\n      });\n    }\n  }\n  _class = EditprofileComponent;\n  _class.ɵfac = function EditprofileComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.UsersService), i0.ɵɵdirectiveInject(i2.LocalStorage));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-editprofile\"]],\n    decls: 19,\n    vars: 4,\n    consts: [[2, \"background-image\", \"url('../assets/images/protechbg.jpg')\"], [1, \"wrapper\"], [1, \"input-box\"], [\"type\", \"text\", \"name\", \"username\", \"placeholder\", \"Changer votre nom ou prenom\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"email\", \"placeholder\", \"Changer votre email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"birthdate\", \"placeholder\", \"Changer votre date de naissance\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Saisir votre mot de passe\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Saisir votre nouveau mot de passe\", \"required\", \"\"], [1, \"input-box\", \"button\"], [\"type\", \"Submit\", \"value\", \"Modifier!\", 3, \"click\"]],\n    template: function EditprofileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navbar\");\n        i0.ɵɵelementStart(1, \"body\", 0)(2, \"div\", 1)(3, \"h2\");\n        i0.ɵɵtext(4, \"Modifier vos coordonn\\u00E9es\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\")(6, \"div\", 2)(7, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function EditprofileComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.user.username = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function EditprofileComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.user.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 2)(11, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function EditprofileComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.user.birthday = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 2)(13, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function EditprofileComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.user.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 2);\n        i0.ɵɵelement(15, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 8)(17, \"input\", 9);\n        i0.ɵɵlistener(\"click\", function EditprofileComponent_Template_input_click_17_listener() {\n          return ctx.modifierProfil();\n        });\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(18, \"app-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.username);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.birthday);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.password);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.NavbarComponent, i5.FooterComponent],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap\\\";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#4070f4}.wrapper[_ngcontent-%COMP%]{position:relative;max-width:430px;width:100%;background:#fff;padding:34px;border-radius:6px;box-shadow:0 5px 10px #0003}.wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-size:22px;font-weight:600;color:#333}.wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;left:0;bottom:0;height:3px;width:28px;border-radius:12px;background:#4070f4}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{height:52px;margin:18px 0}form[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;padding:0 15px;font-size:17px;font-weight:400;color:#333;border:1.5px solid #C7BEBE;border-bottom-width:2.5px;border-radius:6px;transition:all .3s ease}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border-color:#4070f4}form[_ngcontent-%COMP%]   .policy[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#707070;font-size:14px;font-weight:500;margin-left:10px}.input-box.button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff;letter-spacing:1px;border:none;background:#4070f4;cursor:pointer}.input-box.button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background:#0e4bf1}form[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;width:100%;text-align:center}form[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4070f4;text-decoration:none}form[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}\"]\n  });\n  return EditprofileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}